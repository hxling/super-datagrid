<!--
 * @Author: 疯狂秀才(Lucas Huang)
 * @Date: 2019-08-10 11:02:50
 * @LastEditors: 疯狂秀才(Lucas Huang)
 * @LastEditTime: 2019-10-16 16:08:26
 * @QQ: 1055818239
 * @Version: v0.0.1
 -->

<div #datagridContainer class="f-datagrid" 
    [class.f-datagrid-rowhover]="rowHover"
    [class.f-datagrid-bordered]="showBorder"
    [class.f-datagrid-wrap]="!nowrap"
    [class.f-datagrid-strip]="striped" 
    [class.f-datagrid-sm]="sizeType === 'sm'" [class.f-datagrid-lg]="sizeType === 'lg'" [class.f-datagrid-xl]="sizeType === 'xl'"
    [ngStyle]="{'width': width + 'px', 'height': height + 'px' }"
    *ngIf="!autoHeight">

    <datagrid-header class="d-flex flex-fill" *ngIf="showHeader" #header [columns]="columns" [columnsGroup]="colGroup" [height]="realHeaderHeight"></datagrid-header>
    
    <datagrid-body [columnsGroup]="colGroup" [data]="ds.rows | paginate: pagerOpts" [startRowIndex]="ds.index"
        [topHideHeight]="ds.top" [bottomHideHeight]="ds.bottom" [footerHeight]="footerHeight"></datagrid-body>
            
    <datagrid-footer [width]="footerWidth" [columnsGroup]="colGroup" [columns]="colGroup?.normalColumns" [data]="footerData" *ngIf="showFooter"></datagrid-footer>
    
    <datagrid-pager *ngIf="pagination" #dgPager [showPageList]="showPageList" [id]="pagerOpts.id" [locked]="lockPagination"
        (pageChange)="onPageChange($event)" (pageSizeChange)="onPageSizeChange($event)"></datagrid-pager>

    <div class="f-datagrid-resize-bg" #resizeProxyBg></div>
    <div #resizeProxy class="f-datagrid-resize-proxy" *ngIf="resizeColumn"></div>
</div>


<div #datagridContainer class="f-datagrid" 
[class.f-datagrid-rowhover]="rowHover"
[class.f-datagrid-bordered]="showBorder"
[class.f-datagrid-wrap]="!nowrap"
[class.f-datagrid-strip]="striped" 
[class.f-datagrid-sm]="sizeType === 'sm'" [class.f-datagrid-lg]="sizeType === 'lg'" [class.f-datagrid-xl]="sizeType === 'xl'"
*ngIf="autoHeight" style="border-right: 0px; border-bottom: 0px;">

    <auto-height [columnsGroup]="colGroup" [columns]="columns" [data]="ds.rows"></auto-height>
</div>

<datagrid-loading *ngIf="loading"></datagrid-loading>