<div  class="f-datagrid-body" [ngStyle]="bodyStyle" [style.top.px]="top" tabindex=1>

    <div [scrollbar]="psConfig" class="ps f-datagrid-body-wheel-area" #ps="ngxScrollbar"
            [ngStyle]="bodyStyle" (psXReachEnd)="onPsXReachEnd($event)"
        (psScrollY)="onScrollToY($event)" (psYReachEnd)="onScrollYEnd($event)" (psScrollX)="onScrollToX($event)" (psXReachStart)="onPsXReachStart($event)">
       
        <div [style.height]="wheelHeight+ 'px'" [style.width.px]="columnsGroup?.totalWidth">

            <div #fixedLeft class="f-datagrid-body-fixed-left"  [class.f-datagrid-fixed-left-shadow]="!!scrollLeft"
                *ngIf="datagrid.showLineNumber || datagrid.showCheckbox " [style.transform]="'translate3d('+ scrollLeft +'px, '+ topHideHeight +'px, 0px)'"
                    [style.width.px]="leftFixedWidth" [style.height.px]="wheelHeight - topHideHeight">
                <!-- <div #topDiv class="f-datagrid-virtual-row body-top" *ngIf="datagrid.virtualized" 
                    [style.height.px]="topHideHeight" style="transform: translate3d(0px, 0px, 0px)"></div> -->

                <table style="width: 100%" >
                    <tr class="f-datagrid-body-row" [style.height.px]="rowHeight" *ngFor="let row of data ; trackBy: trackByRows; let i=index; odd as odd">
                        <td class="f-datagrid-cell f-datagrid-cell-rownumber" [style.width.px]="datagrid.lineNumberWidth">
                            {{ startRowIndex + i + 1 }}
                        </td>
                    </tr>
                </table>
            </div>
            

            <div #fixedRight class="f-datagrid-body-fixed-right" [style.width.px]="rightFixedWidth" 
                *ngIf="columnsGroup?.rightFixed && columnsGroup?.rightFixed.length"
                [style.transform]="'translate3d('+ fixedRightScrollLeft +'px, '+ topHideHeight +'px, 0px)'"
                [class.f-datagrid-fixed-right-shadow]="showRightShadow" [style.height.px]="wheelHeight - topHideHeight">
            
                <table #datatable style="border:0; width: 100%" class="f-datagrid-rows f-datagrid-row-hover" cellpadding=0 cellspacing="0">
                    <tr class="f-datagrid-body-row" 
                        [grid-row]="row" [rowIndex]="startRowIndex + i" #dr="gridRow" [formGroup]="dr.form"
                        *ngFor="let row of data ; trackBy: trackByRows; let i = index; odd as odd"
                        [class.f-datagrid-row-odd]="odd && datagrid.striped"
                        [class.f-datagrid-row-even]="!odd && datagrid.striped"
                        [class.f-datagrid-row-selected]="currentRowId === row[datagrid.idField]"
                    >
                        <td class="f-datagrid-cell" [attr.align]="col.align"
                            [style.width.px]="col.width" *ngFor="let col of columnsGroup?.rightFixed; let ci = index;">
                            <grid-body-cell [width]="col.width" [height]="rowHeight" [column]="col" [rowData]="row" [rowIndex]="startRowIndex + i"></grid-body-cell>
                        </td>
                    </tr>
                </table>
            
            </div>

            <div [style.width.px]="colsWidth" style="position: relative;" [style.left.px]="leftFixedWidth"
            [style.transform]="'translate3d(0px, '+ topHideHeight +'px, 0px)'" [style.height.px]="wheelHeight - topHideHeight">
                <!-- <div #topDiv class="f-datagrid-virtual-row body-top" *ngIf="datagrid.virtualized" 
                    [style.height.px]="topHideHeight" style="transform: translate3d(0px, 0px, 0px);"></div> -->
                <table #datatable style="border:0; width: 100%" class="f-datagrid-rows f-datagrid-row-hover" cellpadding=0 cellspacing="0">
                    <tr class="f-datagrid-body-row" 
                        [grid-row]="row" [rowIndex]="startRowIndex + i" #dr="gridRow" [formGroup]="dr.form"
                        *ngFor="let row of data ; trackBy: trackByRows; let i = index; odd as odd"
                        [class.f-datagrid-row-odd]="odd && datagrid.striped"
                        [class.f-datagrid-row-even]="!odd && datagrid.striped"
                        [class.f-datagrid-row-selected]="currentRowId === row[datagrid.idField]"
                    >
                        <td class="f-datagrid-cell" [attr.align]="col.align"
                            [style.width.px]="col.width" *ngFor="let col of columnsGroup?.normalColumns; let ci = index;">
                            <grid-body-cell [width]="col.width" [height]="rowHeight" [column]="col" [rowData]="row" [rowIndex]="startRowIndex + i"></grid-body-cell>
                        </td>
                    </tr>
                </table>
                <!-- <div #bottomDiv class="f-datagrid-virtual-row body-bottom" 
                    *ngIf="datagrid.virtualized" [style.height.px]="bottomHideHeight" ></div>    -->
            </div>

            
           
        </div>
    </div>
</div>